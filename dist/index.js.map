{"version":3,"sources":["../cache.js","../build-custom-worker.js","../build-fallback-worker.js","../index.js"],"sourcesContent":["'use strict'\n\n// Workbox RuntimeCaching config: https://developers.google.com/web/tools/workbox/reference-docs/latest/module-workbox-build#.RuntimeCachingEntry\nmodule.exports = [\n  {\n    urlPattern: /^https:\\/\\/fonts\\.(?:gstatic)\\.com\\/.*/i,\n    handler: 'CacheFirst',\n    options: {\n      cacheName: 'google-fonts-webfonts',\n      expiration: {\n        maxEntries: 4,\n        maxAgeSeconds: 365 * 24 * 60 * 60 // 365 days\n      }\n    }\n  },\n  {\n    urlPattern: /^https:\\/\\/fonts\\.(?:googleapis)\\.com\\/.*/i,\n    handler: 'StaleWhileRevalidate',\n    options: {\n      cacheName: 'google-fonts-stylesheets',\n      expiration: {\n        maxEntries: 4,\n        maxAgeSeconds: 7 * 24 * 60 * 60 // 7 days\n      }\n    }\n  },\n  {\n    urlPattern: /\\.(?:eot|otf|ttc|ttf|woff|woff2|font.css)$/i,\n    handler: 'StaleWhileRevalidate',\n    options: {\n      cacheName: 'static-font-assets',\n      expiration: {\n        maxEntries: 4,\n        maxAgeSeconds: 7 * 24 * 60 * 60 // 7 days\n      }\n    }\n  },\n  {\n    urlPattern: /\\.(?:jpg|jpeg|gif|png|svg|ico|webp)$/i,\n    handler: 'StaleWhileRevalidate',\n    options: {\n      cacheName: 'static-image-assets',\n      expiration: {\n        maxEntries: 64,\n        maxAgeSeconds: 24 * 60 * 60 // 24 hours\n      }\n    }\n  },\n  {\n    urlPattern: /\\/_next\\/image\\?url=.+$/i,\n    handler: 'StaleWhileRevalidate',\n    options: {\n      cacheName: 'next-image',\n      expiration: {\n        maxEntries: 64,\n        maxAgeSeconds: 24 * 60 * 60 // 24 hours\n      }\n    }\n  },\n  {\n    urlPattern: /\\.(?:mp3|wav|ogg)$/i,\n    handler: 'CacheFirst',\n    options: {\n      rangeRequests: true,\n      cacheName: 'static-audio-assets',\n      expiration: {\n        maxEntries: 32,\n        maxAgeSeconds: 24 * 60 * 60 // 24 hours\n      }\n    }\n  },\n  {\n    urlPattern: /\\.(?:mp4)$/i,\n    handler: 'CacheFirst',\n    options: {\n      rangeRequests: true,\n      cacheName: 'static-video-assets',\n      expiration: {\n        maxEntries: 32,\n        maxAgeSeconds: 24 * 60 * 60 // 24 hours\n      }\n    }\n  },\n  {\n    urlPattern: /\\.(?:js)$/i,\n    handler: 'StaleWhileRevalidate',\n    options: {\n      cacheName: 'static-js-assets',\n      expiration: {\n        maxEntries: 32,\n        maxAgeSeconds: 24 * 60 * 60 // 24 hours\n      }\n    }\n  },\n  {\n    urlPattern: /\\.(?:css|less)$/i,\n    handler: 'StaleWhileRevalidate',\n    options: {\n      cacheName: 'static-style-assets',\n      expiration: {\n        maxEntries: 32,\n        maxAgeSeconds: 24 * 60 * 60 // 24 hours\n      }\n    }\n  },\n  {\n    urlPattern: /\\/_next\\/data\\/.+\\/.+\\.json$/i,\n    handler: 'StaleWhileRevalidate',\n    options: {\n      cacheName: 'next-data',\n      expiration: {\n        maxEntries: 32,\n        maxAgeSeconds: 24 * 60 * 60 // 24 hours\n      }\n    }\n  },\n  {\n    urlPattern: /\\.(?:json|xml|csv)$/i,\n    handler: 'NetworkFirst',\n    options: {\n      cacheName: 'static-data-assets',\n      expiration: {\n        maxEntries: 32,\n        maxAgeSeconds: 24 * 60 * 60 // 24 hours\n      }\n    }\n  },\n  {\n    urlPattern: ({ url }) => {\n      const isSameOrigin = self.origin === url.origin\n      if (!isSameOrigin) return false\n      const pathname = url.pathname\n      // Exclude /api/auth/callback/* to fix OAuth workflow in Safari without impact other environment\n      // Above route is default for next-auth, you may need to change it if your OAuth workflow has a different callback route\n      // Issue: https://github.com/shadowwalker/next-pwa/issues/131#issuecomment-821894809\n      if (pathname.startsWith('/api/auth/')) return false\n      if (pathname.startsWith('/api/')) return true\n      return false\n    },\n    handler: 'NetworkFirst',\n    method: 'GET',\n    options: {\n      cacheName: 'apis',\n      expiration: {\n        maxEntries: 16,\n        maxAgeSeconds: 24 * 60 * 60 // 24 hours\n      },\n      networkTimeoutSeconds: 10 // fall back to cache if api does not response within 10 seconds\n    }\n  },\n  {\n    urlPattern: ({ url }) => {\n      const isSameOrigin = self.origin === url.origin\n      if (!isSameOrigin) return false\n      const pathname = url.pathname\n      if (pathname.startsWith('/api/')) return false\n      return true\n    },\n    handler: 'NetworkFirst',\n    options: {\n      cacheName: 'others',\n      expiration: {\n        maxEntries: 32,\n        maxAgeSeconds: 24 * 60 * 60 // 24 hours\n      },\n      networkTimeoutSeconds: 10\n    }\n  },\n  {\n    urlPattern: ({ url }) => {\n      const isSameOrigin = self.origin === url.origin\n      return !isSameOrigin\n    },\n    handler: 'NetworkFirst',\n    options: {\n      cacheName: 'cross-origin',\n      expiration: {\n        maxEntries: 32,\n        maxAgeSeconds: 60 * 60 // 1 hour\n      },\n      networkTimeoutSeconds: 10\n    }\n  }\n]\n","'use strict'\n\nconst path = require('path')\nconst fs = require('fs')\nconst webpack = require('webpack')\nconst { CleanWebpackPlugin } = require('clean-webpack-plugin')\nconst TerserPlugin = require('terser-webpack-plugin')\n\nconst buildCustomWorker = ({ id, basedir, customWorkerDir, destdir, plugins, minify }) => {\n  let workerDir = undefined\n\n  if (fs.existsSync(path.join(basedir, customWorkerDir))) {\n    workerDir = path.join(basedir, customWorkerDir)\n  } else if (fs.existsSync(path.join(basedir, 'src', customWorkerDir))) {\n    workerDir = path.join(basedir, 'src', customWorkerDir)\n  }\n\n  if (!workerDir) return\n\n  const name = `worker-${id}.js`\n  const customWorkerEntries = ['ts', 'js']\n    .map(ext => path.join(workerDir, `index.${ext}`))\n    .filter(entry => fs.existsSync(entry))\n\n  if (customWorkerEntries.length === 0) return\n\n  if (customWorkerEntries.length > 1) {\n    console.warn(\n      `> [PWA] WARNING: More than one custom worker found (${customWorkerEntries.join(\n        ','\n      )}), not building a custom worker`\n    )\n    return\n  }\n\n  const customWorkerEntry = customWorkerEntries[0]\n  console.log(`> [PWA] Custom worker found: ${customWorkerEntry}`)\n  console.log(`> [PWA] Build custom worker: ${path.join(destdir, name)}`)\n  webpack({\n    mode: 'none',\n    target: 'webworker',\n    entry: {\n      main: customWorkerEntry\n    },\n    resolve: {\n      extensions: ['.ts', '.js'],\n      fallback: {\n        module: false,\n        dgram: false,\n        dns: false,\n        path: false,\n        fs: false,\n        os: false,\n        crypto: false,\n        stream: false,\n        http2: false,\n        net: false,\n        tls: false,\n        zlib: false,\n        child_process: false\n      }\n    },\n    module: {\n      rules: [\n        {\n          test: /\\.(t|j)s$/i,\n          use: [\n            {\n              loader: 'babel-loader',\n              options: {\n                presets: [\n                  [\n                    'next/babel',\n                    {\n                      'transform-runtime': {\n                        corejs: false,\n                        helpers: true,\n                        regenerator: false,\n                        useESModules: true\n                      },\n                      'preset-env': {\n                        modules: false,\n                        targets: 'chrome >= 56'\n                      }\n                    }\n                  ]\n                ]\n              }\n            }\n          ]\n        }\n      ]\n    },\n    output: {\n      path: destdir,\n      filename: name\n    },\n    plugins: [\n      new CleanWebpackPlugin({\n        cleanOnceBeforeBuildPatterns: [path.join(destdir, 'worker-*.js'), path.join(destdir, 'worker-*.js.map')]\n      })\n    ].concat(plugins),\n    optimization: minify\n      ? {\n          minimize: true,\n          minimizer: [new TerserPlugin()]\n        }\n      : undefined\n  }).run((error, status) => {\n    if (error || status.hasErrors()) {\n      console.error(`> [PWA] Failed to build custom worker`)\n      console.error(status.toString({ colors: true }))\n      process.exit(-1)\n    }\n  })\n\n  return name\n}\n\nmodule.exports = buildCustomWorker\n","'use strict'\n\nconst path = require('path')\nconst fs = require('fs')\nconst webpack = require('webpack')\nconst { CleanWebpackPlugin } = require('clean-webpack-plugin')\nconst TerserPlugin = require('terser-webpack-plugin')\n\nconst getFallbackEnvs = ({ fallbacks, basedir, id, pageExtensions }) => {\n  let { document, data } = fallbacks\n\n  if (!document) {\n    let pagesDir = undefined\n\n    if (fs.existsSync(path.join(basedir, 'pages'))) {\n      pagesDir = path.join(basedir, 'pages')\n    } else if (fs.existsSync(path.join(basedir, 'src', 'pages'))) {\n      pagesDir = path.join(basedir, 'src', 'pages')\n    }\n\n    if (!pagesDir) return\n\n    const offlines = pageExtensions\n      .map(ext => path.join(pagesDir, `_offline.${ext}`))\n      .filter(entry => fs.existsSync(entry))\n    if (offlines.length === 1) {\n      document = '/_offline'\n    }\n  }\n\n  if (data && data.endsWith('.json')) {\n    data = path.posix.join('/_next/data', id, data)\n  }\n\n  const envs = {\n    __PWA_FALLBACK_DOCUMENT__: document || false,\n    __PWA_FALLBACK_IMAGE__: fallbacks.image || false,\n    __PWA_FALLBACK_AUDIO__: fallbacks.audio || false,\n    __PWA_FALLBACK_VIDEO__: fallbacks.video || false,\n    __PWA_FALLBACK_FONT__: fallbacks.font || false,\n    __PWA_FALLBACK_DATA__: data || false\n  }\n\n  if (Object.values(envs).filter(v => !!v).length === 0) return\n\n  console.log('> [PWA] Fallback to precache routes when fetch failed from cache or network:')\n  if (envs.__PWA_FALLBACK_DOCUMENT__) console.log(`> [PWA]   document (page): ${envs.__PWA_FALLBACK_DOCUMENT__}`)\n  if (envs.__PWA_FALLBACK_IMAGE__) console.log(`> [PWA]   image: ${envs.__PWA_FALLBACK_IMAGE__}`)\n  if (envs.__PWA_FALLBACK_AUDIO__) console.log(`> [PWA]   audio: ${envs.__PWA_FALLBACK_AUDIO__}`)\n  if (envs.__PWA_FALLBACK_VIDEO__) console.log(`> [PWA]   video: ${envs.__PWA_FALLBACK_VIDEO__}`)\n  if (envs.__PWA_FALLBACK_FONT__) console.log(`> [PWA]   font: ${envs.__PWA_FALLBACK_FONT__}`)\n  if (envs.__PWA_FALLBACK_DATA__) console.log(`> [PWA]   data (/_next/data/**/*.json): ${envs.__PWA_FALLBACK_DATA__}`)\n\n  return envs\n}\n\nconst buildFallbackWorker = ({ id, fallbacks, basedir, destdir, minify, pageExtensions }) => {\n  const envs = getFallbackEnvs({ fallbacks, basedir, id, pageExtensions })\n  if (!envs) return\n\n  const name = `fallback-${id}.js`\n  const fallbackJs = path.join(__dirname, `fallback.js`)\n\n  webpack({\n    mode: 'none',\n    target: 'webworker',\n    entry: {\n      main: fallbackJs\n    },\n    resolve: {\n      extensions: ['.js'],\n      fallback: {\n        module: false,\n        dgram: false,\n        dns: false,\n        path: false,\n        fs: false,\n        os: false,\n        crypto: false,\n        stream: false,\n        http2: false,\n        net: false,\n        tls: false,\n        zlib: false,\n        child_process: false\n      }\n    },\n    module: {\n      rules: [\n        {\n          test: /\\.js$/i,\n          use: [\n            {\n              loader: 'babel-loader',\n              options: {\n                presets: [\n                  [\n                    'next/babel',\n                    {\n                      'transform-runtime': {\n                        corejs: false,\n                        helpers: true,\n                        regenerator: false,\n                        useESModules: true\n                      },\n                      'preset-env': {\n                        modules: false,\n                        targets: 'chrome >= 56'\n                      }\n                    }\n                  ]\n                ]\n              }\n            }\n          ]\n        }\n      ]\n    },\n    output: {\n      path: destdir,\n      filename: name\n    },\n    plugins: [\n      new CleanWebpackPlugin({\n        cleanOnceBeforeBuildPatterns: [path.join(destdir, 'fallback-*.js'), path.join(destdir, 'fallback-*.js.map')]\n      }),\n      new webpack.EnvironmentPlugin(envs)\n    ],\n    optimization: minify\n      ? {\n          minimize: true,\n          minimizer: [new TerserPlugin()]\n        }\n      : undefined\n  }).run((error, status) => {\n    if (error || status.hasErrors()) {\n      console.error(`> [PWA] Failed to build fallback worker`)\n      console.error(status.toString({ colors: true }))\n      process.exit(-1)\n    }\n  })\n\n  return { fallbacks, name, precaches: Object.values(envs).filter(v => !!v) }\n}\n\nmodule.exports = buildFallbackWorker\n","'use strict';\n\nconst path = require('path');\nconst fs = require('fs');\nconst crypto = require('crypto');\n\nlet globbyModule,\n  CleanWebpackPlugin,\n  WorkboxPlugin,\n  defaultCache,\n  buildCustomWorker,\n  buildFallbackWorker;\n\nconst getRevision = (file) => crypto.createHash('md5').update(fs.readFileSync(file)).digest('hex');\n\nfunction detectTurbopack() {\n  return (\n    process.env.NEXT_TURBOPACK === 'true' ||\n    process.env.__NEXT_TURBOPACK === 'true' ||\n    process.argv.includes('--turbo')\n  );\n}\n\nfunction lazyLoadGlobby() {\n  if (!globbyModule) {\n    globbyModule = require('globby');\n  }\n  return globbyModule;\n}\n\nmodule.exports =\n  (pluginOptions = {}) =>\n  (nextConfig = {}) => {\n    const isTurbopack = detectTurbopack();\n\n    const {\n      disable = false,\n      register = true,\n      dest,\n      sw = 'sw.js',\n      cacheStartUrl = true,\n      dynamicStartUrl = true,\n      dynamicStartUrlRedirect,\n      skipWaiting = true,\n      clientsClaim = true,\n      cleanupOutdatedCaches = true,\n      additionalManifestEntries,\n      ignoreURLParametersMatching = [],\n      importScripts = [],\n      publicExcludes = ['!noprecache/**/*'],\n      buildExcludes = [],\n      modifyURLPrefix = {},\n      manifestTransforms = [],\n      fallbacks = {},\n      cacheOnFrontEndNav = false,\n      reloadOnOnline = true,\n      scope,\n      customWorkerDir = 'worker',\n      subdomainPrefix,\n      ...workbox\n    } = pluginOptions;\n\n    if (disable) {\n      console.log('> [PWA] PWA support is disabled');\n      return nextConfig;\n    }\n\n    if (subdomainPrefix) {\n      console.error(\n        '> [PWA] subdomainPrefix is deprecated, use basePath in next.config.js instead: https://nextjs.org/docs/api-reference/next.config.js/basepath'\n      );\n    }\n\n    if (isTurbopack) {\n      console.log('> [PWA] Turbopack detected - generating service worker with buildId');\n      console.log('> [PWA] Note: Using Turbopack-compatible PWA service worker');\n\n      const basePath = nextConfig.basePath || '/';\n      const _sw = sw.startsWith('/') ? sw : `/${sw}`;\n      const _scope = path.posix.join(scope || basePath, '/');\n\n      return {\n        ...nextConfig,\n        webpack(config, options) {\n          const { buildId, dir } = options;\n          const _dest = path.join(dir, dest || '.next');\n\n          const swContent = `// Turbopack PWA Service Worker - ${buildId}\nconst CACHE_NAME = 'pwa-${buildId}';\nconst START_URL = '${basePath}';\nconst SCOPE = '${_scope}';\n\nself.addEventListener('install', (event) => {\n  event.waitUntil(\n    caches.open(CACHE_NAME).then((cache) => {\n      return cache.addAll([\n        '/',\n        START_URL\n      ]);\n    })\n  );\n  self.skipWaiting();\n});\n\nself.addEventListener('activate', (event) => {\n  event.waitUntil(\n    caches.keys().then((cacheNames) => {\n      return Promise.all(\n        cacheNames\n          .filter((name) => name.startsWith('pwa-') && name !== CACHE_NAME)\n          .map((name) => caches.delete(name))\n      );\n    })\n  );\n  self.clients.claim();\n});\n\nself.addEventListener('fetch', (event) => {\n  if (event.request.url.startsWith(self.location.origin)) {\n    event.respondWith(\n      caches.match(event.request).then((response) => {\n        return response || fetch(event.request).then((fetchResponse) => {\n          return caches.open(CACHE_NAME).then((cache) => {\n            if (event.request.method === 'GET') {\n              cache.put(event.request, fetchResponse.clone());\n            }\n            return fetchResponse;\n          });\n        });\n      }).catch(() => caches.match('/'))\n    );\n  }\n});\n`;\n\n          const fs = require('fs');\n          const swPath = path.join(_dest, _sw.replace(/^\\/+/, ''));\n          const swDir = path.dirname(swPath);\n          \n          if (!fs.existsSync(swDir)) {\n            fs.mkdirSync(swDir, { recursive: true });\n          }\n          \n          fs.writeFileSync(swPath, swContent);\n          console.log(`> [PWA] Service worker generated: ${swPath}`);\n\n          config.plugins.push(\n            new (require('webpack').DefinePlugin)({\n              __PWA_SW__: `'${_sw}'`,\n              __PWA_SCOPE__: `'${_scope}'`,\n              __PWA_ENABLE_REGISTER__: `${Boolean(register)}`,\n              __PWA_START_URL__: dynamicStartUrl ? `'${basePath}'` : undefined,\n              __PWA_CACHE_ON_FRONT_END_NAV__: `${Boolean(cacheOnFrontEndNav)}`,\n              __PWA_RELOAD_ON_ONLINE__: `${Boolean(reloadOnOnline)}`,\n            })\n          );\n\n          const registerJs = path.join(__dirname, 'register.js');\n          const entry = config.entry;\n          config.entry = () =>\n            entry().then((entries) => {\n              if (entries['main.js'] && !entries['main.js'].includes(registerJs)) {\n                entries['main.js'].unshift(registerJs);\n              }\n              return entries;\n            });\n\n          return config;\n        },\n        async headers() {\n          const baseHeaders = nextConfig.headers ? await nextConfig.headers() : [];\n          return [\n            ...(Array.isArray(baseHeaders) ? baseHeaders : []),\n            {\n              source: '/:path*',\n              headers: [\n                {\n                  key: 'Link',\n                  value: `<${path.join(basePath, 'manifest.json')}>; rel=manifest`,\n                },\n              ],\n            },\n          ];\n        },\n      };\n    }\n\n    try {\n      const { CleanWebpackPlugin: CWP } = require('clean-webpack-plugin');\n      const { GenerateSW, InjectManifest } = require('workbox-webpack-plugin');\n      CleanWebpackPlugin = CWP;\n      WorkboxPlugin = { GenerateSW, InjectManifest };\n    } catch (e) {\n      console.warn(\n        '> [PWA] Warning: workbox-webpack-plugin not installed. Run: npm install workbox-webpack-plugin'\n      );\n      return nextConfig;\n    }\n\n    try {\n      defaultCache = require('./cache');\n      buildCustomWorker = require('./build-custom-worker');\n      buildFallbackWorker = require('./build-fallback-worker');\n    } catch (e) {\n      console.warn('> [PWA] Warning: Could not load helper modules:', e.message);\n    }\n\n    const globby = lazyLoadGlobby();\n\n    return Object.assign({}, nextConfig, {\n      webpack(config, options) {\n        const {\n          webpack,\n          buildId,\n          dev,\n          config: {\n            distDir = '.next',\n            pageExtensions = ['tsx', 'ts', 'jsx', 'js', 'mdx'],\n            experimental = {},\n          },\n        } = options;\n\n        let basePath = options.config.basePath;\n        if (!basePath) basePath = '/';\n\n        if (typeof nextConfig.webpack === 'function') {\n          config = nextConfig.webpack(config, options);\n        }\n\n        if (disable) {\n          options.isServer && console.log('> [PWA] PWA support is disabled');\n          return config;\n        }\n\n        console.log(`> [PWA] Compile ${options.isServer ? 'server' : 'client (static)'}`);\n\n        let { runtimeCaching = defaultCache } = pluginOptions;\n        const _scope = path.posix.join(scope || basePath, '/');\n\n        const _sw = path.posix.join(basePath, sw.startsWith('/') ? sw : `/${sw}`);\n        config.plugins.push(\n          new webpack.DefinePlugin({\n            __PWA_SW__: `'${_sw}'`,\n            __PWA_SCOPE__: `'${_scope}'`,\n            __PWA_ENABLE_REGISTER__: `${Boolean(register)}`,\n            __PWA_START_URL__: dynamicStartUrl ? `'${basePath}'` : undefined,\n            __PWA_CACHE_ON_FRONT_END_NAV__: `${Boolean(cacheOnFrontEndNav)}`,\n            __PWA_RELOAD_ON_ONLINE__: `${Boolean(reloadOnOnline)}`,\n          })\n        );\n\n        const registerJs = path.join(__dirname, 'register.js');\n        const entry = config.entry;\n        config.entry = () =>\n          entry().then((entries) => {\n            if (entries['main.js'] && !entries['main.js'].includes(registerJs)) {\n              entries['main.js'].unshift(registerJs);\n            }\n            return entries;\n          });\n\n        if (!options.isServer) {\n          const _dest = path.join(options.dir, dest || distDir);\n          const customWorkerScriptName = buildCustomWorker({\n            id: buildId,\n            basedir: options.dir,\n            customWorkerDir,\n            destdir: _dest,\n            plugins: config.plugins.filter((plugin) => plugin instanceof webpack.DefinePlugin),\n            minify: !dev,\n          });\n\n          if (!!customWorkerScriptName) {\n            importScripts.unshift(customWorkerScriptName);\n          }\n\n          if (register) {\n            console.log(`> [PWA] Auto register service worker with: ${path.resolve(registerJs)}`);\n          } else {\n            console.log(\n              `> [PWA] Auto register service worker is disabled, please call following code in componentDidMount callback or useEffect hook`\n            );\n            console.log(`> [PWA]   window.workbox.register()`);\n          }\n\n          console.log(`> [PWA] Service worker: ${path.join(_dest, sw)}`);\n          console.log(`> [PWA]   url: ${_sw}`);\n          console.log(`> [PWA]   scope: ${_scope}`);\n\n          config.plugins.push(\n            new CleanWebpackPlugin({\n              cleanOnceBeforeBuildPatterns: [\n                path.join(_dest, 'workbox-*.js'),\n                path.join(_dest, 'worker-*.js.LICENSE.txt'),\n                path.join(_dest, 'workbox-*.js.map'),\n                path.join(_dest, sw),\n                path.join(_dest, `${sw}.map`),\n              ],\n            })\n          );\n\n          let manifestEntries = additionalManifestEntries;\n          if (!Array.isArray(manifestEntries)) {\n            manifestEntries = globby\n              .sync(\n                [\n                  '**/*',\n                  '!workbox-*.js',\n                  '!workbox-*.js.map',\n                  '!worker-*.js',\n                  '!worker-*.js.map',\n                  '!fallback-*.js',\n                  '!fallback-*.js.map',\n                  `!${sw.replace(/^\\/+/, '')}`,\n                  `!${sw.replace(/^\\/+/, '')}.map`,\n                  ...publicExcludes,\n                ],\n                {\n                  cwd: 'public',\n                }\n              )\n              .map((f) => ({\n                url: path.posix.join(basePath, `/${f}`),\n                revision: getRevision(`public/${f}`),\n              }));\n          }\n\n          if (cacheStartUrl) {\n            if (!dynamicStartUrl) {\n              manifestEntries.push({\n                url: basePath,\n                revision: buildId,\n              });\n            } else if (\n              typeof dynamicStartUrlRedirect === 'string' &&\n              dynamicStartUrlRedirect.length > 0\n            ) {\n              manifestEntries.push({\n                url: dynamicStartUrlRedirect,\n                revision: buildId,\n              });\n            }\n          }\n\n          let _fallbacks = fallbacks;\n          if (_fallbacks) {\n            const res = buildFallbackWorker({\n              id: buildId,\n              fallbacks,\n              basedir: options.dir,\n              destdir: _dest,\n              minify: !dev,\n              pageExtensions,\n            });\n\n            if (res) {\n              _fallbacks = res.fallbacks;\n              importScripts.unshift(res.name);\n              res.precaches.forEach((route) => {\n                if (!manifestEntries.find((entry) => entry.url.startsWith(route))) {\n                  manifestEntries.push({\n                    url: route,\n                    revision: buildId,\n                  });\n                }\n              });\n            } else {\n              _fallbacks = undefined;\n            }\n          }\n\n          const workboxCommon = {\n            swDest: path.join(_dest, sw),\n            additionalManifestEntries: dev ? [] : manifestEntries,\n            exclude: [\n              ...buildExcludes,\n              ({ asset, compilation }) => {\n                if (\n                  asset.name.startsWith('server/') ||\n                  asset.name.match(/^(build-manifest\\.json|react-loadable-manifest\\.json)$/)\n                ) {\n                  return true;\n                }\n                if (dev && !asset.name.startsWith('static/runtime/')) {\n                  return true;\n                }\n                if (experimental.modern /* modern */) {\n                  if (asset.name.endsWith('.module.js')) {\n                    return false;\n                  }\n                  if (asset.name.endsWith('.js')) {\n                    return true;\n                  }\n                }\n                return false;\n              },\n            ],\n            modifyURLPrefix: {\n              ...modifyURLPrefix,\n              '/_next/../public/': '/',\n            },\n            manifestTransforms: [\n              ...manifestTransforms,\n              async (manifestEntries, compilation) => {\n                const manifest = manifestEntries.map((m) => {\n                  m.url = m.url.replace('/_next//static/image', '/_next/static/image');\n                  m.url = m.url.replace('/_next//static/media', '/_next/static/media');\n                  if (m.revision === null) {\n                    let key = m.url;\n                    if (key.startsWith(config.output.publicPath)) {\n                      key = m.url.substring(config.output.publicPath.length);\n                    }\n                    const assset = compilation.assetsInfo.get(key);\n                    m.revision = assset ? assset.contenthash || buildId : buildId;\n                  }\n                  m.url = m.url.replace(/\\[/g, '%5B').replace(/\\]/g, '%5D');\n                  return m;\n                });\n                return { manifest, warnings: [] };\n              },\n            ],\n          };\n\n          if (workbox.swSrc) {\n            const swSrc = path.join(options.dir, workbox.swSrc);\n            console.log(`> [PWA] Inject manifest in ${swSrc}`);\n            config.plugins.push(\n              new WorkboxPlugin.InjectManifest({\n                ...workboxCommon,\n                ...workbox,\n                swSrc,\n              })\n            );\n          } else {\n            if (dev) {\n              console.log(\n                '> [PWA] Build in develop mode, cache and precache are mostly disabled. This means offline support is disabled, but you can continue developing other functions in service worker.'\n              );\n\n              ignoreURLParametersMatching.push(/ts/);\n              runtimeCaching = [\n                {\n                  urlPattern: /.*/i,\n                  handler: 'NetworkOnly',\n                  options: {\n                    cacheName: 'dev',\n                  },\n                },\n              ];\n            }\n\n            if (dynamicStartUrl) {\n              runtimeCaching.unshift({\n                urlPattern: basePath,\n                handler: 'NetworkFirst',\n                options: {\n                  cacheName: 'start-url',\n                  plugins: [\n                    {\n                      cacheWillUpdate: async ({ request, response, event, state }) => {\n                        if (response && response.type === 'opaqueredirect') {\n                          return new Response(response.body, {\n                            status: 200,\n                            statusText: 'OK',\n                            headers: response.headers,\n                          });\n                        }\n                        return response;\n                      },\n                    },\n                  ],\n                },\n              });\n            }\n\n            if (_fallbacks) {\n              runtimeCaching.forEach((c) => {\n                if (c.options.precacheFallback) return;\n                if (\n                  Array.isArray(c.options.plugins) &&\n                  c.options.plugins.find((p) => 'handlerDidError' in p)\n                )\n                  return;\n                if (!c.options.plugins) c.options.plugins = [];\n                c.options.plugins.push({\n                  handlerDidError: async ({ request }) => self.fallback(request),\n                });\n              });\n            }\n\n            config.plugins.push(\n              new WorkboxPlugin.GenerateSW({\n                ...workboxCommon,\n                skipWaiting,\n                clientsClaim,\n                cleanupOutdatedCaches,\n                ignoreURLParametersMatching,\n                importScripts,\n                ...workbox,\n                runtimeCaching,\n              })\n            );\n          }\n        }\n\n        return config;\n      },\n    });\n  };\n"],"mappings":"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","names":["exports","module","exports","module","path","fs","CleanWebpackPlugin","buildCustomWorker","exports","module","path","fs","CleanWebpackPlugin","buildFallbackWorker","fs","entry","manifestEntries"]}